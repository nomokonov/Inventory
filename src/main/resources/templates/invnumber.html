<div th:include="common :: header"></div>

<div th:replace="common :: topnavbar"></div>

<div class="container-fluid ">
    <div class="row ">
        <div class="col-2 p-0 ">
            <div th:replace="common :: leftnavbar"></div>
        </div>
        <!--        AngualJS APP-->
        <div class="col pt-4">
            <h3>Имущество:</h3>
            <div class="alert alert-danger" role="alert"
                 th:if="${message}" th:utext="${message}">
                АХТУНГ!
            </div>

            <div>
                <form class="form-inline" action="/user/find/" method="GET" id="form-invnumber">
                    <label for="department">Инвентарный номер:</label>
                    <input class="form-control-sm" id="invnumber" name="invnumber"
                           th:value="${invNumber} ? ${invNumber.invNumber}"
                           autofocus>
                    <!--                        <div class="col-md-3">-->
                    <button class="btn btn-primary" type="submit">Найти</button>
                    <!--                    onclick="searchInvNumber(); return false;"-->
                    <!--                        </div>-->
                </form>
            </div>
            <div th:if="${invNumber}">
                <div class="h4" th:text="${invNumber.name}"></div>
                <div>
                    <a th:href="'/user/' + ${invNumber.id} + '/print'" target="_blank" title="Печать">
                        <img th:src="'/rest/barcodes/zxing/code128/' + ${invNumber.invNumber}"/>
                    </a>
                </div>
                <div th:text="${invNumber.invNumber}"></div>
                <div class="alert alert-danger" role="alert" th:if="${invNumber.invMovings}">
                    <div>по выбранному инвентарномму есть назначенные изменения</div>
                    <div
                            th:utext="${invNumber.invMovings.mol}">
                        АХТУНГ!
                    </div>
                    <div
                            th:utext="${invNumber.invMovings.nameDepartment}">
                        АХТУНГ!
                    </div>
                </div>
                <div th:text="${invNumber.mol}"></div>
                <div th:text="${invNumber.nameDepartment}"></div>
                <p></p>
                <form class="form" th:action="${invNumber} ? '/user/' + ${invNumber.id}" method="POST"
                      id="form-mol-department">
                    <input
                            type="hidden"
                            th:name="${_csrf.parameterName}"
                            th:value="${_csrf.token}"/>
                    <div class="form-group">
                        <label for="mol">МОЛ</label>
                        <!--                                        <select class="form-control-sm" id="mol"-->
                        <!--                                                name="mol"-->
                        <!--                                                ng-model="filterForm.mol"-->
                        <!--                                                ng-options="mol for mol in mols track by mol"-->
                        <!--                                        >-->
                        <!--                                        </select>-->
                        <select class="form-control-sm" id="mol" name="mol">
                            <option value="?"> ---</option>
                            <option th:each="item : ${allMols}"
                                    th:value="${item}"
                                    th:utext="${item}"
                                    th:selected="${item} == ${mol}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="department">Подразделение</label>
                        <!--                                        <select class="form-control-sm" id="department"-->
                        <!--                                                name="codeDepartment"-->
                        <!--                                                ng-model="filterForm.department"-->
                        <!--                                                ng-options="department.nameDepartment for department in departments track by department.codeDepartment"-->
                        <!--                                        >-->
                        <!--                                        </select>-->
                        <select class="form-control-sm" id="department" name="codeDepartment">
                            <option value="?"> ---</option>
                            <option th:each="item : ${allDepartments}"
                                    th:value="${item.codeDepartment}"
                                    th:utext="${item.nameDepartment}"
                                    th:selected="${item.codeDepartment} == ${codeDepartment}"></option>
                        </select>

                    </div>
                    <button type="submit" class=" form-control-sm btn btn-primary">Применить</button>
                </form>
            </div>
        </div>

    </div>
</div>

<div th:include="common :: footer"></div>